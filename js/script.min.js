$(document).ready(function(){$("#nav").onePageNav({currentClass:"current",changeHash:!1,scrollSpeed:750})}),$.fn.extend({threeBarToggle:function(a){var b={color:"black",width:30,height:25,speed:400,animate:!0},a=$.extend(b,a);return this.each(function(){$(this).empty().css({width:a.width,height:a.height,background:"transparent"}),$(this).addClass("tb-menu-toggle"),$(this).prepend("<i></i><i></i><i></i>").on("click",function(b){b.preventDefault(),$(this).toggleClass("tb-active-toggle"),a.animate&&$(this).toggleClass("tb-animate-toggle"),$(".tb-mobile-menu").slideToggle(a.speed)}),$(this).children().css("background",a.color)})},accordionMenu:function(a){var b={speed:400},a=$.extend(b,a);return this.each(function(){$(this).addClass("tb-mobile-menu");var b=$(this).children("li");b.find(".sub-menu").parent().addClass("tb-parent"),$(".tb-parent ul").hide(),$(".tb-parent > a").on("click",function(b){b.stopPropagation(),b.preventDefault(),$(this).siblings().slideToggle(a.speed)})})}}),$("#menu-toggle").threeBarToggle({color:"#fff",width:40,height:30}),$("#menu").accordionMenu(),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)});var stats=new Stats;stats.setMode(0),stats.domElement.style.position="absolute",stats.domElement.style.left="0px",stats.domElement.style.top="0px",document.body.appendChild(stats.domElement),function(a,b){function c(c,d){function e(){this.x=Math.random()*c.width,this.y=Math.random()*c.height,this.vx=i.velocity-.5*Math.random(),this.vy=i.velocity-.5*Math.random(),this.radius=Math.random()*i.star.width}var f=a(c),g=c.getContext("2d"),h={star:{color:"#AE324D",width:1},line:{color:"#AE324D",width:.2},position:{x:0,y:0},width:b.innerWidth,height:b.innerHeight,velocity:.1,length:100,distance:120,radius:150,stars:[]},i=a.extend(!0,{},h,d);e.prototype={create:function(){g.beginPath(),g.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),g.fill()},animate:function(){var a;for(a=0;a<i.length;a++){var b=i.stars[a];b.y<0||b.y>c.height?(b.vx=b.vx,b.vy=-b.vy):(b.x<0||b.x>c.width)&&(b.vx=-b.vx,b.vy=b.vy),b.x+=b.vx,b.y+=b.vy}},line:function(){var a,b,c,d,e=i.length;for(c=0;e>c;c++)for(d=0;e>d;d++)a=i.stars[c],b=i.stars[d],a.x-b.x<i.distance&&a.y-b.y<i.distance&&a.x-b.x>-i.distance&&a.y-b.y>-i.distance&&a.x-i.position.x<i.radius&&a.y-i.position.y<i.radius&&a.x-i.position.x>-i.radius&&a.y-i.position.y>-i.radius&&(g.beginPath(),g.moveTo(a.x,a.y),g.lineTo(b.x,b.y),g.stroke(),g.closePath())}},this.createStars=function(){var a,b,d=i.length;for(g.clearRect(0,0,c.width,c.height),b=0;d>b;b++)i.stars.push(new e),a=i.stars[b],a.create();a.line(),a.animate()},this.setCanvas=function(){c.width=i.width,c.height=i.height},this.setContext=function(){g.fillStyle=i.star.color,g.strokeStyle=i.line.color,g.lineWidth=i.line.width},this.setInitialPosition=function(){d&&d.hasOwnProperty("position")||(i.position={x:.5*c.width,y:.5*c.height})},this.loop=function(a){a(),b.requestAnimationFrame(function(){stats.begin(),this.loop(a),stats.end()}.bind(this))},this.bind=function(){f.on("mousemove",function(a){i.position.x=a.pageX-f.offset().left,i.position.y=a.pageY-f.offset().top})},this.init=function(){this.setCanvas(),this.setContext(),this.setInitialPosition(),this.loop(this.createStars),this.bind()}}a.fn.constellation=function(a){return this.each(function(){var b=new c(this,a);b.init()})}}($,window),$("canvas").constellation({star:{width:3},line:{color:"rgba(255, 255, 255, .5)"},radius:250});